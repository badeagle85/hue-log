---
import type { HTMLAttributes } from 'astro/types';

type Props = HTMLAttributes<'a'>;

const { href, class: className, ...props } = Astro.props;
const pathname = Astro.url.pathname;
const isActive = pathname === href || pathname.startsWith(href + '/');

const baseClasses = "px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200";
const activeClasses = isActive
  ? "bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300"
  : "text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700";
---

<a href={href} class={`${baseClasses} ${activeClasses} ${className || ''}`} {...props}>
	<slot />
</a>
